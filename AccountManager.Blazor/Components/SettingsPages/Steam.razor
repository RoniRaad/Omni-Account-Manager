@using AccountManager.Blazor.Components.Modals
@using AccountManager.Core.Interfaces
@using AccountManager.Core.Models
@using AccountManager.Core.Models.AppSettings
@using AccountManager.Core.Models.UserSettings
@using AccountManager.Core.Services
@using AccountManager.Blazor.Components
@using Microsoft.Extensions.Options
@inject IAppState _authService
@inject IUserSettingsService<SteamSettings> _settings

<div class="container main">
    <EditForm Model="@_settings.Settings">
        <table>
            <tbody>
                <tr>
                    <th scope="row">
                        <p>Only show steam games owned by the account</p>
                    </th>
                    <td>
                        <div class="form-check">
                            <input type="checkbox" @onchange="(ChangeEventArgs e) => {
                                _settings.Settings.OnlyShowOwnedSteamGames = (bool)(e?.Value ?? true); 
                                _settings.SaveAsync();
                            }" id="steamGamesCheckbox" checked="@_settings.Settings.OnlyShowOwnedSteamGames"></input>
                            <label class="form-check-label" for="steamGamesCheckbox"></label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </EditForm>
</div>