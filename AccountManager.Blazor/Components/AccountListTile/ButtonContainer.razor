@using AccountManager.Blazor.Components.Modals
@using AccountManager.Blazor.Components.Modals.ExportAccountModal
@using AccountManager.Core.Interfaces
@using AccountManager.Core.Models
@using AccountManager.Core.Services
@using AccountManager.Infrastructure.Services.FileSystem
@inject IAppState _state
@inject IShortcutService _shortcutService

<div class="row">
	<div class="col">
        <span @onclick=Delete class="oi oi-trash" title="Delete" ></span>
    </div>
	<div class="col">
		<div class="dropdown dropend">
			<span class="oi oi-share-boxed" title="Export" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></span>
			  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
				<a class="dropdown-item" @onclick="() => _shortcutService.CreateDesktopLoginShortcut(Account?.Id, Account.Guid, string.Empty)">Create desktop shortcut</a>
			  </div>
		</div>
	</div>
	<div class="col">
		<span @onclick="OpenEditModal" class="oi oi-wrench" title="Edit"></span>
	</div>
	<div class="col">
		<span @onclick="Login" class="oi oi-media-play" title="Login" style="@loginBtnStyle"></span>
	</div>
</div>

@if (deleteAccountConfirmationRequest is not null)
{
    <ConfirmationPrompt Request="deleteAccountConfirmationRequest"></ConfirmationPrompt>
}

@if (showExportModal)
{
    <ExportAccountModal Account="Account"></ExportAccountModal>
}