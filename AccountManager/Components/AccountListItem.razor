@using AccountManager.Core.Enums
@using AccountManager.Core.Interfaces
@using AccountManager.Core.ViewModels
@inherits LayoutComponentBase

<div class="row">
    <div class="col-md" style="display:flex">
        @if (ListViewModel.AccountType == Core.Enums.AccountType.League)
        {
            <img src="./logos/league-logo.png" style="margin-right:10px; height:34px; width:34px" />
        }else if (ListViewModel.AccountType == Core.Enums.AccountType.Steam)
        {
            <svg xmlns="http://www.w3.org/2000/svg" height="34px" width="34px" style="margin-right:10px" version="1.1" viewBox="0 0 233 233">
             <defs>
              <linearGradient id="a" x2="50%" x1="50%" y2="100%">
               <stop stop-color="#111D2E" offset="0"/>
               <stop stop-color="#051839" offset=".21248"/>
               <stop stop-color="#0A1B48" offset=".40695"/>
               <stop stop-color="#132E62" offset=".58110"/>
               <stop stop-color="#144B7E" offset=".73760"/>
               <stop stop-color="#136497" offset=".87279"/>
               <stop stop-color="#1387B8" offset="1"/>
              </linearGradient>
             </defs>
             <path fill="url(#a)" d="m4.8911 150.01c14.393 48.01 58.916 82.99 111.61 82.99 64.34 0 116.5-52.16 116.5-116.5 0-64.341-52.16-116.5-116.5-116.5-61.741 0-112.26 48.029-116.25 108.76 7.5391 12.66 10.481 20.49 4.6411 41.25z"/>
             <path fill="#fff" d="m110.5 87.322c0 0.196 0 0.392 0.01 0.576l-28.508 41.412c-4.618-0.21-9.252 0.6-13.646 2.41-1.937 0.79-3.752 1.76-5.455 2.88l-62.599-25.77c0.00049 0-1.4485 23.83 4.588 41.59l44.254 18.26c2.222 9.93 9.034 18.64 19.084 22.83 16.443 6.87 35.402-0.96 42.242-17.41 1.78-4.3 2.61-8.81 2.49-13.31l40.79-29.15c0.33 0.01 0.67 0.02 1 0.02 24.41 0 44.25-19.9 44.25-44.338 0-24.44-19.84-44.322-44.25-44.322-24.4 0-44.25 19.882-44.25 44.322zm-6.84 83.918c-5.294 12.71-19.9 18.74-32.596 13.45-5.857-2.44-10.279-6.91-12.83-12.24l14.405 5.97c9.363 3.9 20.105-0.54 23.997-9.9 3.904-9.37-0.525-20.13-9.883-24.03l-14.891-6.17c5.746-2.18 12.278-2.26 18.381 0.28 6.153 2.56 10.927 7.38 13.457 13.54s2.52 12.96-0.04 19.1m51.09-54.38c-16.25 0-29.48-13.25-29.48-29.538 0-16.275 13.23-29.529 29.48-29.529 16.26 0 29.49 13.254 29.49 29.529 0 16.288-13.23 29.538-29.49 29.538m-22.09-29.583c0-12.253 9.92-22.191 22.14-22.191 12.23 0 22.15 9.938 22.15 22.191 0 12.254-9.92 22.183-22.15 22.183-12.22 0-22.14-9.929-22.14-22.183z"/>
            </svg>
        }
        else if (ListViewModel.AccountType == Core.Enums.AccountType.Valorant)
        {
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                width="34" height="34"
                viewBox="0 0 34 34"
                style="margin-right:10px; fill:#000000;"><path d="M1.756 5.345C1.482 5.029 1.042 4.915.65 5.063.259 5.209 0 5.583 0 6v7c0 .242.088.477.248.658l7 8C7.438 21.876 7.711 22 8 22h6c.392 0 .747-.229.91-.585.163-.355.103-.774-.154-1.07L1.756 5.345zM23.325 6.054c-.404-.138-.852-.005-1.114.332l-7 9c-.234.302-.276.711-.109 1.054C15.27 16.782 15.618 17 16 17h5c.334 0 .646-.167.832-.445l2-3C23.941 13.391 24 13.197 24 13V7C24 6.573 23.729 6.192 23.325 6.054z"></path></svg>
        }
        <h3 style="font-family:Roboto">
            @ListViewModel.Name
            <span style="font-size:10px;font-weight:100" class="badge badge-secondary">@ListViewModel.Account.Username</span>
        </h3>
    </div>
    <div class="col-sm">
    </div>
    <div class="col-sm" style="display:flex; justify-content:flex-end; padding-right:0px; align-content:flex-start; font-size:24px; gap:24px">
        <span style="cursor:pointer" @onclick=ListViewModel.Delete class="oi oi-trash"></span>
        <span style="cursor:pointer" @onclick=ListViewModel.ToggleEdit class="oi oi-wrench"></span>
        <span style="cursor:pointer" @onclick=ListViewModel.Login class="oi oi-account-login"> </span>
    </div>
    <hr class="solid">
    @if (ListViewModel.IsEditing)
    {
        <div class="modal show" style="display:block; color:var(--primary-dark);" tabindex="1" role="dialog">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title">Edit</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                    <EditForm Model="@ListViewModel">
                        <div class="form-group">
                        <label for="exampleInputEmail1">Name</label>
                        <InputText style="margin-bottom:12px" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" @bind-Value="ListViewModel.Name" placeholder="Name"></InputText>
   
                        <label for="exampleInputEmail1">Username</label>
                        <InputText style="margin-bottom:12px" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" @bind-Value="ListViewModel.Account.Username" placeholder="Username"></InputText>

                        <label for="exampleInputPassword1">Password</label>
                        <InputText style="margin-bottom:12px" type="password" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" @bind-Value="ListViewModel.Account.Password" placeholder="Password"></InputText>
                        </div>
                            <div class="form-group">
                            <label for="accountTypeSelect">Account Type</label>
                            <InputSelect style="margin-bottom:12px" id="accountTypeSelect" class="form-select" @bind-Value="ListViewModel.AccountType">
                                @foreach (var accountType in Enum.GetValues(typeof(AccountType)))
                                {
                                    <option value="@accountType">@accountType</option>
                                }
                            </InputSelect>
                        </div>

                    </EditForm>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-primary" @onclick=ListViewModel.ToggleEdit >Save</button>
                </div>
            </div>
            </div>
        </div>
    }
</div>

@code {
    [Parameter]
    public AccountListItemViewModel ListViewModel { get; set; }
}
